<!DOCTYPE html>

    <head>
        <title>JavaScript Fluid Simulation</title>
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        <div class="container">
            <canvas id="canvas"></canvas>
        </div>
        <script src="simulation.js"></script>
        <script src="playground.js"></script>
        <script>
            // Grab the Canvas and the Context
            var canvas = document.getElementById("canvas");
            var ctx = canvas.getContext("2d");

            let lastTime = performance.now()
            let currentTime = 0;
            let deltaTime = 0;

            let playground = new Playground();

            mainLoop();

            function updatePlayground(dt) {
                playground.update(deltaTime);
                playground.draw();
            }

            function mainLoop() {
                window.requestAnimationFrame(mainLoop);

                currentTime = performance.now();
                // Calculate the Delta Time
                deltaTime = (currentTime - lastTime) / 1000;

                updatePlayground(deltaTime);
                lastTime = currentTime;

            }
        </script>
        
    </body>
</html>